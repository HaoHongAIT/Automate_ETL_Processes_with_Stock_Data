from time import sleep
from selenium.webdriver.common.by import By
from selenium import webdriver
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.chrome.service import Service
from time import sleep
from queue import Queue
import pandas as pd
import threading




if __name__ == '__main__':    
    categories = [1]
    stock_codes = ["fpt"]
    options = Options()
    options.headless = False
    options.add_argument("--window-size=1920,1080")
    service = Service(executable_path='./chromedriver.exe')
    browser = webdriver.Chrome(service=service, options=options)
    for stock_code in stock_codes:
        for i in categories:            
          browser.get(f"https://s.cafef.vn/lich-su-giao-dich-{stock_code}-{i}.chn")                            
          elements = browser.find_elements(By.CSS_SELECTOR, ".render-table-owner td")
          # links = [element.text for element in elements]                    
          # @onclick=\"ownerCDL.handleChangePage(ownerCDL.pageIndex + 1)\"
          
          browser.find_element(By.XPATH, "").click()
        #   break          
    browser.close()    
    
    # df = {"date":[], "closed_price":[], "adjusted_price":[], "col 1": [], "col 2": [], "col 3": [], "col 4": [], "col 5": [],
    #       "col 6": [], "col 7": [], "col 8": []} 
    # lst = ['09/08/2024', '122.9', '--', '1.5(1.24 %)', '974,000', '119.52', '0', '0', '122.4', '123.3', '122', 
    #        '08/08/2024', '121.4', '--', '-0.6(-0.49 %)', '2,654,900', '323', '576,531', '70.13', '121.6', '122.4', '120.9', 
    #        '07/08/2024', '122', '--', '1.2(0.99 %)', '2,822,800', '341.32', '0', '0', '121', '122', '120.2', 
    #        '06/08/2024', '120.8', '--', '2.2(1.85 %)', '6,728,100', '812.06', '263,750', '31.26', '120', '121.9', '119.8', 
    #        '05/08/2024', '118.6', '--', '-4.6(-3.73 %)', '10,415,200', '1,254.1', '0', '0', '121.1', '122.9', '117.4', 
    #        '02/08/2024', '123.2', '--', '-1.6(-1.28 %)', '9,944,700', '1,221.18', '212,500', '25.35', '122.1', '124.8', '121', 
    #        '01/08/2024', '124.8', '--', '-3.8(-2.95 %)', '6,870,300', '866.88', '1', '0', '129.6', '129.7', '124.1', 
    #        '31/07/2024', '128.6', '--', '0.6(0.47 %)', '2,869,200', '366.62', '225,000', '28.85', '127.3', '128.6', '126.6', 
    #        '30/07/2024', '128', '--', '-1(-0.78 %)', '2,373,800', '303.85', '50,000', '6.05', '129', '129.5', '127', 
    #        '29/07/2024', '129', '--', '1(0.78 %)', '4,859,800', '631.08', '150,000', '20.54', '130', '130.6', '129', 
    #        '26/07/2024', '128', '--', '3(2.40 %)', '3,951,100', '497.18', '1,182,600', '148.81', '125.9', '128', '124.4', 
    #        '25/07/2024', '125', '--', '-1(-0.79 %)', '2,563,400', '319.82', '685,001', '86.06', '124.2', '125.5', '124.1', 
    #        '24/07/2024', '126', '--', '0.5(0.40 %)', '4,151,700', '520.86', '20,000', '2.68', '125.5', '126.6', '124',
    #        '23/07/2024', '125.5', '--', '1.4(1.13 %)', '5,311,600', '672.73', '100,000', '11.55', '124.9', '127.5', '124.8', 
    #        '22/07/2024', '124.1', '--', '-1.9(-1.51 %)', '6,216,900', '772.29', '0', '0', '126', '126', '123.2',
    #        '19/07/2024', '126', '--', '-1.9(-1.49 %)', '6,551,700', '832.65', '0', '0', '128.6', '129.3', '126', 
    #         '18/07/2024', '127.9', '--', '-4(-3.03 %)', '10,800,200', '1,391.94', '25,001', '3.3', '131.4', '131.4', '127.8', 
    #         '17/07/2024', '131.9', '--', '-2.1(-1.57 %)', '6,970,100', '921.8', '0', '0', '134', '134.1', '129.9', 
    #         '16/07/2024', '134', '--', '1.3(0.98 %)', '4,002,300', '533.55', '349,900', '46.6', '133.6', '134.5', '132.3', 
    #         '15/07/2024', '132.7', '--', '-1.1(-0.82 %)', '3,067,200', '408.78', '0', '0', '133.5', '134.8', '132.3', 
    #         '12/07/2024', '133.8', '--', '0.8(0.60 %)', '3,553,400', '476.05', '36,600', '4.9', '132.2', '136', '132.2']

    # for i in range(0, len(lst),11):
    #   df['date'].append(lst[i])
    #   df['closed_price'].append(lst[i+1])
    #   df['adjusted_price'].append(lst[i+2])
    #   df['col 1'].append(lst[i+3])
    #   df['col 2'].append(lst[i+4])
    #   df['col 3'].append(lst[i+5])
    #   df['col 4'].append(lst[i+6])
    #   df['col 5'].append(lst[i+7])
    #   df['col 6'].append(lst[i+8])
    #   df['col 7'].append(lst[i+9])
    #   df['col 8'].append(lst[i+10])
    # print(df)